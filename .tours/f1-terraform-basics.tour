{
  "$schema": "https://aka.ms/codetour-schema",
  "title": "1: ğŸ Formula 1 Terraform Basics",
  "nextTour": "2: ğŸ Module-Based Team Formation",
  "description": "Welcome to the pit lane! This tour introduces Terraform fundamentals using our racing team infrastructure.",
  "steps": [
    {
      "file": "main.tf",
      "line": 1,
      "description": "# ğŸï¸ Welcome to the Racing Lab!\n\nWelcome to our Formula 1 Terraform lab! Just like a race car is built from many precisely engineered components, our infrastructure is defined using **Infrastructure as Code** with Terraform.\n\n**What you'll learn:**\n- How Terraform manages infrastructure\n- Okta provider configuration\n- Racing team resource definitions\n- F1-themed practical examples\n\nReady to start your engines? Let's go! ğŸ"
    },
    {
      "file": "main.tf",
      "line": 24,
        "selection": {
      "start": {
        "line": 15,
        "character": 1
      },
       "end": {
          "line": 24,
          "character": 30
        }
      },
      "description": "# ğŸ”§ Terraform Configuration Block\n\nThis is like the technical regulations for our racing series! The `terraform` block defines:\n\n- **Required version**: Minimum Terraform version needed\n- **Required providers**: External plugins that extend Terraform's capabilities\n\nJust like F1 cars must meet specific technical requirements, our Terraform code must declare its dependencies upfront."
    },
    {
      "file": "main.tf",
      "line": 8,
      "description": "# ğŸ† Provider Requirements\n\nThe `required_providers` block is like declaring which tire manufacturer we'll use for the race:\n\n- **source**: Where to download the provider (like a parts supplier)\n- **version**: Which version to use (like tire compound specifications)\n\nThe Okta provider gives us resources to manage identity and access - perfect for our racing team organization!"
    },
    {
      "file": "main.tf",
      "line": 18,
      "description": "# ğŸ” Provider Configuration\n\nThe `provider` block is like connecting to race control - it establishes communication with Okta's API.\n\n**Security Note**: We use environment variables for credentials:\n- `OKTA_ORG_NAME` - Your organization name\n- `OKTA_BASE_URL` - Usually oktapreview.com for dev\n- `OKTA_API_TOKEN` - Your API authentication token\n\nThis keeps sensitive data out of our code, just like keeping radio frequencies secure! ğŸ“»"
    },
    {
      "file": "main.tf",
      "line": 39,
      "description": "# ğŸ Racing Teams Module\n\n**NEW: Module-based architecture!** Instead of individual resources, we use modules - this is a production-quality pattern!\n\n**Key concepts:**\n- **Modules** organize related resources together\n- **Source** points to our local module directory\n- **Input variables** pass data to the module\n- **Reusability** - modules can be used in different configurations\n\nThis is how real companies structure their Terraform code! ğŸ—ï¸"
    },
    {
      "file": "main.tf",
      "line": 51,
      "description": "# ğŸï¸ Racing Drivers Module (Conditional)\n\n**Advanced pattern:** Conditional module deployment!\n\n**Key features:**\n- `count = var.enable_drivers ? 1 : 0` - Deploy only when enabled\n- **Module dependencies** - drivers module uses outputs from teams module\n- **Progressive deployment** - deploy teams first, then drivers\n\n**Real-world value:** This pattern lets you deploy infrastructure incrementally, which is crucial for production environments!"
    },
    {
      "file": "main.tf",
      "line": 62,
      "description": "# ğŸ”— Module Dependencies\n\n**Critical best practice:** How modules share data!\n\n```hcl\nteam_ids   = module.racing_teams.team_ids\nteam_names = module.racing_teams.team_names\n```\n\n**What this demonstrates:**\n- Output from one module becomes input to another\n- Proper dependency management\n- Single source of truth\n\n**Why this matters:** This prevents the state file conflicts we fixed! ğŸ¯"
    },
    {
      "file": "variables.tf",
      "line": 1,
      "description": "# ğŸ“‹ Variables File\n\nVariables make our Terraform code flexible and reusable - like having adjustable car settings!\n\n**Benefits:**\n- Same code works for different environments\n- Easy to modify without changing main logic\n- Type validation ensures data quality\n- Default values provide sensible starting points\n\nClick through to see how team data is structured!"
    },
    {
      "file": "outputs.tf",
      "line": 1,
      "description": "# ğŸ“Š Outputs File\n\nOutputs are like telemetry data from our infrastructure - they show us what was created and provide data for other systems.\n\n**Common uses:**\n- Display resource IDs after creation\n- Pass data between Terraform configurations\n- Integration with monitoring systems\n- Verification that resources were created correctly\n\nThink of it as the timing screens showing lap times and positions!"
    },
    {
      "file": "README.md",
      "line": 1,
      "description": "# ğŸ Ready to Race!\n\nCongratulations! You've completed the Terraform basics tour. You now understand:\n\nâœ… **Module-based architecture** (production-quality patterns!)\nâœ… **Progressive deployment** (teams first, then drivers)\nâœ… **Single state file management** (critical best practice)\nâœ… **Module dependencies** and data sharing\nâœ… **F1-themed practical examples**\n\n**Next steps:**\n1. **Check your environment variables:** `echo $OKTA_ORG_NAME`\n2. **Copy configuration:** `cp terraform.tfvars.example terraform.tfvars`\n3. **Deploy teams:** `terraform init && terraform apply` (enable_drivers = false)\n4. **Add drivers:** Set `enable_drivers = true` and `terraform apply` again\n\n**Pro tip**: This new workflow teaches production patterns from day one! ğŸš€"
    }
  ]
}